### **Сопроводительная документация к проекту "Обработка изображений"**

---

## **Содержание**
1. [Описание проекта](#описание-проекта)  
2. [Руководство для пользователя](#руководство-для-пользователя)  
3. [Руководство для программиста](#руководство-для-программиста)  
4. [Ссылка на сайт](#ссылка-на-сайт)

---

## **Описание проекта**

Проект представляет собой веб-приложение для **обработки изображений**. Оно включает в себя несколько методов обработки и улучшения изображений, таких как:

1. **Увеличение резкости** с использованием свёрточного фильтра.  
2. **Локальная пороговая обработка**:
   - Метод Оцу  
   - Метод среднего значения  
3. **Адаптивная пороговая обработка** с настройкой параметров:  
   - Размер блока  
   - Константа C  

Приложение позволяет загружать изображения, обрабатывать их на клиентской стороне с использованием **HTML5 Canvas и JavaScript** и визуализировать результаты.

---

## **Руководство для пользователя**

### **1. Загрузка изображения**
1. Нажмите на кнопку **"Выбрать файл"** и загрузите изображение с вашего устройства.  
2. После загрузки изображения оно отобразится в блоке **"Исходное изображение"**.  

### **2. Методы обработки**
#### **2.1. Увеличение резкости**
- Нажмите кнопку **"Применить"** в разделе **"Увеличение резкости"**.  
- Результат появится в блоке **"Обработанное изображение"**.  

#### **2.2. Локальная пороговая обработка**
1. Выберите метод пороговой обработки:
   - **Метод Оцу** – автоматический поиск оптимального порога.  
   - **Среднее значение** – определение порога по среднему значению пикселей.  
2. Нажмите кнопку **"Применить"** для запуска обработки.  

#### **2.3. Адаптивная пороговая обработка**
1. Укажите параметры обработки:
   - **Размер блока** – размер области, для которой вычисляется локальный порог.  
   - **Константа C** – корректирующее значение, вычитаемое из среднего.  
2. Нажмите кнопку **"Применить"**.  

### **3. Очистка и завершение**
- Обновите страницу для сброса всех данных.  

---

## **Руководство для программиста**

### **1. Структура проекта**
Проект состоит из трёх основных файлов:
- **index.html** – разметка страницы.  
- **styles.css** – стили для элементов интерфейса.  
- **script.js** – реализация функциональности обработки изображений.  

---

### **2. Основные компоненты**

#### **2.1. HTML**
- Загрузка изображения:  
   ```html
   <input type="file" id="upload" accept="image/*">
   ```
- Холсты для отображения изображений:
   ```html
   <canvas id="original-canvas"></canvas>
   <canvas id="processed-canvas"></canvas>
   ```
- Кнопки и параметры обработки:
   ```html
   <button id="sharpen">Применить</button>
   <select id="threshold-method">
       <option value="otsu">Метод Оцу</option>
       <option value="mean">Среднее Значение</option>
   </select>
   ```

---

#### **2.2. Стилизация (CSS)**
Основные стили включают:
- **Структура контейнеров** для изображений и элементов управления.  
- **Стили кнопок и полей ввода** для лучшего взаимодействия пользователя.  
- **Цветовая гамма** в розовых и серых тонах.  

Пример:
```css
.btn {
    background-color: #f48fb1;
    color: white;
    border: none;
    padding: 12px;
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.3s;
}
.btn:hover {
    background-color: #e91e63;
}
```

---

#### **2.3. JavaScript**
**Основные функции и их назначения**:

1. **Загрузка изображения**:
   - Загружает изображение через `input` и рисует его на канвас:
   ```javascript
   uploadInput.addEventListener('change', (e) => {
       const file = e.target.files[0];
       const reader = new FileReader();
       reader.onload = function(event) {
           img.onload = function() {
               originalCtx.drawImage(img, 0, 0);
               processedCtx.drawImage(img, 0, 0);
           }
           img.src = event.target.result;
       }
       reader.readAsDataURL(file);
   });
   ```

2. **Увеличение резкости**:
   - Применяет свёртку изображения с использованием ядра:
   ```javascript
   let kernel = [
       0, -1, 0,
       -1, 5, -1,
       0, -1, 0
   ];
   ```

3. **Локальная пороговая обработка**:
   - **Метод Оцу** – автоматический поиск оптимального порога.  
   - **Метод среднего значения** – вычисляет средний порог для каждого блока.

4. **Адаптивная пороговая обработка**:
   - Использует интегральное изображение для ускорения обработки.  
   - Параметры (`blockSize` и `C`) задаются пользователем:
   ```javascript
   function adaptiveThreshold(blockSize, C) { ... }
   ```

5. **Функции вспомогательной обработки**:
   - `getImageData` – получение данных пикселей.  
   - `setImageData` – установка обработанных данных на канвас.  
   - `clamp` – ограничение значений от 0 до 255.  

---

### **3. Основные алгоритмы**
1. **Увеличение резкости** – применяется **свёртка с ядром** для улучшения чёткости.  
2. **Локальный метод Оцу** – динамически вычисляет порог для каждого блока.  
3. **Адаптивная пороговая обработка** – использует **среднее значение** пикселей с коррекцией.  

---

## **Ссылка на сайт**
https://gvazidra.github.io/pcg_lab3_var13/ 

---
